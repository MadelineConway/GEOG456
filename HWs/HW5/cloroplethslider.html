<html lang="en"><head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leaflet with Slider</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css" integrity="sha512-hoalWLoI8r4UszCkZ5kL8vayOGVae1oxXe/2A4AO6J9+580uKHDO3JdHb7NzwwzK5xr/Fs0W40kiNHxM9vyTtQ==" crossorigin="">
    <script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js" integrity="sha512-BB3hKbKWOc9Ez/TAwyWxNXeoV9c1v6FIeYiBieIWkpLjauysF18NzgR1MBNBXf8/KABdlkX68nAhlwcDFLGPCQ==" crossorigin=""></script>
    
    <script src="data.js"></script>
    <style>
        h1 {
        font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
        font-size: 36px;
        position: relative;
        top: 10%;
        text-align: center;
        outline-style: ridge;
        -webkit-text-stroke-width: 1px;
        }
        h2 {
            font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
        }
        h3 {
            font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
        }
        .legend {
            line-height: 18px;
            color: #000;
            background-color: #ffffff;
        }
        .legend i {
            width: 18px;
            height: 18px;
            float: left;
            margin-right: 8px;
            opacity: 0.7; 
        }
        #map { height: 600px; width: 800px ;
            background-color:darkseagreen;
            text-align: center; 
        }
    </style>
</head>
<body>
    <h1>Recycling Cart Evaluations - Stars Program Grades</h1>
    <h2 id="theDate">Evaluation Date: 11/18/2022</h2>
    
        <input id = "dateSlider" type="range" name="Day" min="0" max="60" oninput="moveSlider(this.value)">
        <div id="map" class="leaflet-container leaflet-touch leaflet-retina leaflet-fade-anim leaflet-grab leaflet-touch-drag leaflet-touch-zoom" tabindex="0" style="position: relative;"><div class="leaflet-pane leaflet-map-pane" style="transform: translate3d(0px, 0px, 0px);"><div class="leaflet-pane leaflet-tile-pane"><div class="leaflet-layer " style="z-index: 1; opacity: 1;"><div class="leaflet-tile-container leaflet-zoom-animated" style="z-index: 19; transform: translate3d(0px, 0px, 0px) scale(1);"><img alt="" role="presentation" src="https://tile.openstreetmap.org/10/233/421.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(205px, 69px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://tile.openstreetmap.org/10/234/421.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(461px, 69px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://tile.openstreetmap.org/10/233/420.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(205px, -187px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://tile.openstreetmap.org/10/234/420.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(461px, -187px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://tile.openstreetmap.org/10/233/422.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(205px, 325px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://tile.openstreetmap.org/10/234/422.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(461px, 325px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://tile.openstreetmap.org/10/232/421.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-51px, 69px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://tile.openstreetmap.org/10/235/421.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(717px, 69px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://tile.openstreetmap.org/10/232/420.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-51px, -187px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://tile.openstreetmap.org/10/235/420.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(717px, -187px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://tile.openstreetmap.org/10/232/422.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-51px, 325px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://tile.openstreetmap.org/10/235/422.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(717px, 325px, 0px); opacity: 1;"></div></div></div><div class="leaflet-pane leaflet-overlay-pane"><svg pointer-events="none" class="leaflet-zoom-animated" width="1080" height="480" viewBox="-90 -40 1080 480" style="transform: translate3d(-90px, -40px, 0px);"><g><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M380 278L384 279L390 270L395 260L393 258L398 251L411 252L415 250L419 252L418 254L425 256L433 256L445 263L444 264L449 265L423 307L420 306L421 300L424 302L426 293L421 293L417 291L402 291L395 287L391 287L379 282z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M459 192L462 185L459 183L460 181L463 180L463 176L465 177L465 172L476 178L481 176L479 185L472 199L462 193z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M459 229L464 213L478 210L477 209L485 209L484 210L490 222L489 223L490 228L492 230L491 232L493 240L490 241L486 239L485 236L476 236L469 240L461 236L459 230z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M450 265L454 265L452 259L461 241L460 236L469 240L476 236L485 236L486 239L492 241L497 247L501 259L503 260L500 259L495 262L497 265L496 266L493 263L480 268L450 266z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#f7fbff" fill-opacity="0.7" fill-rule="evenodd" d="M531 150L536 144L541 133L537 131L541 126L545 129L532 111L533 108L535 113L540 118L554 126L557 124L563 113L562 114L558 109L560 108L558 107L558 105L560 105L557 103L559 99L557 99L556 95L561 96L565 89L562 96L566 99L563 105L569 108L571 106L572 110L574 111L575 109L580 112L581 110L594 117L604 101L607 103L614 103L616 99L612 98L612 96L609 93L609 88L608 89L603 86L602 89L593 85L595 83L593 82L595 80L596 81L598 76L600 77L604 69L606 70L613 58L614 54L611 52L612 47L613 48L623 38L631 45L628 68L631 74L627 74L626 77L628 75L635 79L630 89L644 96L648 96L651 92L661 97L660 98L676 98L666 116L660 123L660 125L669 130L674 129L687 136L681 146L688 150L686 149L677 151L650 151L658 156L655 162L636 156L636 160L637 159L643 167L642 173L657 174L672 178L668 186L666 186L658 202L661 204L660 207L653 204L646 209L644 208L641 215L644 218L645 215L646 221L653 225L657 222L659 229L652 241L642 237L639 241L635 264L631 272L629 272L622 279L616 281L610 275L612 273L621 273L622 270L619 255L616 254L615 259L612 263L605 261L603 257L601 258L597 249L600 246L599 244L595 245L595 243L591 243L590 245L589 241L587 240L590 239L585 235L584 229L582 229L574 219L568 219L570 216L567 215L575 207L570 204L577 205L580 203L582 197L580 186L566 160L558 164L551 160L555 154L555 150L553 148L554 145L547 138L543 140L545 142L542 148L545 149L542 155L536 152z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M446 164L455 137L456 138L460 129L472 137L472 143L474 144L477 155L475 157L470 155L472 163L468 171L456 164L449 165z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M485 210L499 206L511 207L508 222L502 233L498 236L501 235L497 240L493 240L491 232L492 230L490 228L489 223L490 222L484 210z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M413 241L419 244L421 243L421 240L419 238L416 239L416 234L424 230L424 228L427 226L437 225L442 222L454 227L456 233L460 236L461 240L452 259L454 265L444 264L445 263L433 256L425 256L420 253L418 254L419 252L416 251L411 241z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M366 184L367 183L365 179L378 186L382 186L385 176L388 176L387 174L395 170L406 153L411 150L416 152L423 158L431 179L431 183L423 197L424 206L437 220L442 222L437 225L424 227L424 230L416 234L416 238L419 238L421 240L419 244L415 241L411 241L407 245L405 244L402 234L397 231L396 221L391 220L388 216L384 215L382 217L375 210L375 208L382 202L376 201L375 193L372 190L371 196L367 197L366 195L368 194L365 187z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M465 211L478 186L479 187L477 189L480 194L479 196L484 197L481 202L487 203L485 205L482 204L481 206L483 209L477 209L478 210L464 213z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M450 165L458 165L465 169L467 172L465 172L465 177L463 176L463 179L460 181L455 190L450 187L450 177L453 178L452 169L450 167z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#f7fbff" fill-opacity="0.7" fill-rule="evenodd" d="M493 240L494 241L503 238L507 235L508 232L515 227L528 226L529 231L540 232L540 236L537 243L534 245L522 249L514 257L508 252L505 256L507 257L506 259L510 261L509 263L501 259L497 247L492 241z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M416 152L425 129L429 129L434 125L434 122L431 118L434 119L435 125L437 126L438 129L435 129L432 132L435 132L437 135L441 136L444 134L443 137L454 143L446 164L452 168L453 177L450 177L451 188L444 187L445 178L444 174L440 171L436 177L440 179L437 183L431 183L430 174L423 158L417 153z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M479 187L478 186L481 176L485 176L482 175L487 176L487 174L491 174L490 175L492 176L497 176L499 174L501 175L506 173L513 181L514 193L511 207L499 206L483 209L481 204L487 204L481 202L481 199L484 197L480 196L477 189z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M456 134L458 127L460 128L465 115L466 108L469 105L478 102L482 92L488 96L485 96L486 97L502 103L501 111L500 110L499 112L501 112L496 125L494 124L492 126L495 127L491 135L489 135L487 139L485 144L486 146L484 148L483 146L480 148L482 149L477 154L474 144L472 143L472 137L460 129L457 134z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M359 78L360 79L360 76L378 66L380 62L383 60L381 58L387 56L399 68L405 70L401 75L403 79L402 87L399 86L397 89L402 93L401 95L398 97L396 104L391 108L389 112L381 115L380 107L375 105L374 107L368 103L363 96L363 93L359 85L361 81L359 79z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M436 81L450 75L450 77L452 77L454 76L452 74L470 68L471 65L473 69L477 72L496 81L497 84L506 89L502 99L502 103L489 97L486 97L485 96L488 96L482 92L480 95L475 92L470 100L465 99L465 96L463 95L463 100L453 94L451 91L452 88L451 89L447 87L448 86L444 84L444 82L438 83L435 81z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M422 311L433 289L449 265L480 268L493 263L496 266L497 265L495 262L498 260L497 286L495 293L499 297L499 300L497 300L498 299L494 297L488 323L486 325L479 322L478 324L469 324L468 321L464 319L466 317L461 315L460 311L456 308L453 313L449 312L448 314L442 313L441 315L436 315L438 319L431 315L428 315L429 314L423 316L421 315z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M423 197L431 183L437 183L440 179L436 177L440 171L444 173L444 187L451 188L450 191L452 195L450 195L452 201L449 201L446 208L449 209L449 220L446 220L446 224L437 220L425 208L423 202L424 199z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#9ecae1" fill-opacity="0.7" fill-rule="evenodd" d="M471 63L488 35L491 47L493 49L497 44L496 41L498 40L498 42L505 42L511 66L508 76L507 89L497 84L496 81L477 72L471 64z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#f7fbff" fill-opacity="0.7" fill-rule="evenodd" d="M497 240L501 235L498 236L502 233L508 222L511 207L517 208L527 212L521 225L524 223L529 225L530 229L534 231L539 221L547 228L549 232L550 231L556 234L555 239L561 242L563 245L566 236L571 239L589 237L590 239L587 240L590 245L591 243L595 243L594 245L600 245L597 249L601 256L601 262L596 265L592 272L586 272L585 269L575 267L567 274L562 271L562 261L565 258L563 255L561 255L556 257L553 266L548 267L544 270L532 272L522 267L517 261L516 256L522 249L537 243L540 236L540 232L530 231L528 227L524 226L515 227L508 232L506 236L497 240z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M417 55L419 54L421 56L421 51L427 48L434 48L442 45L450 48L464 45L470 47L472 50L470 68L452 74L454 76L452 77L450 77L450 75L436 81L428 77L432 74L424 68L420 69L419 61z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M355 157L358 155L357 148L360 146L361 139L361 136L357 135L366 115L362 116L371 113L375 105L380 107L380 115L390 117L401 125L407 126L412 137L419 144L416 152L411 150L406 153L395 170L387 174L382 172L379 155L372 148L355 157z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M321 198L324 198L328 192L334 189L343 197L339 201L340 204L344 202L346 198L348 198L350 200L350 204L353 206L355 204L354 198L358 195L360 197L363 196L363 189L365 189L367 197L371 196L371 192L374 191L376 201L382 202L375 208L375 210L382 217L384 215L389 217L391 220L396 221L397 231L402 234L406 245L411 241L416 250L409 252L398 251L390 248L380 248L380 250L369 249L366 250L366 252L359 251L350 241L352 241L342 235L335 228L328 211L328 207L327 208L325 204L327 205L325 202L321 201z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M249 217L252 202L258 198L267 195L269 191L272 189L274 191L275 189L279 190L279 192L285 194L288 191L290 192L288 201L292 204L297 202L302 204L304 198L301 197L302 192L300 192L303 191L305 192L302 195L305 200L307 200L308 204L311 205L312 203L317 202L319 204L317 208L321 210L322 213L331 217L335 227L342 235L352 241L350 241L359 251L354 254L345 254L334 250L314 253L297 262L294 256L289 255L281 250L279 251L279 255L281 257L280 261L276 256L259 243L263 242L259 238L264 237L265 233L270 230L269 228L273 226L265 221L264 223L259 222L256 224L254 221L250 221z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M249 256L251 251L249 250L250 248L258 248L258 246L260 245L259 243L276 256L280 261L281 257L279 255L279 251L281 250L289 255L294 256L297 261L314 253L334 250L345 254L349 254L344 264L351 276L356 278L355 282L353 279L335 270L332 275L327 276L319 290L319 294L334 306L335 309L329 312L329 319L300 348L296 346L295 343L288 339L278 339L277 337L286 337L284 336L288 320L278 324L274 322L272 318L261 318L261 307L265 300L269 281L258 281L256 274L249 262L249 258z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M319 290L327 276L332 275L335 270L353 279L354 282L359 280L364 282L366 287L369 288L367 291L368 295L371 298L374 298L369 306L370 314L374 325L379 328L377 330L371 328L368 326L368 324L365 326L359 319L355 319L353 315L350 313L346 315L343 313L341 307L338 309L319 294z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M415 333L422 311L421 315L423 316L429 314L428 315L431 315L432 317L437 319L436 315L440 315L442 313L453 313L456 308L460 311L461 315L466 317L464 319L467 320L469 324L478 324L479 322L492 328L495 327L501 331L490 350L490 361L491 360L496 366L491 372L491 383L480 373L470 373L465 371L466 364L472 366L473 364L467 361L466 362L450 353L449 356L442 355L440 360L426 352L408 352z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M369 305L382 284L395 287L402 291L417 291L421 293L426 293L424 302L421 300L420 306L423 307L415 332L416 329L406 325L403 328L396 329L386 329L382 327L379 328L374 325L370 315L369 306z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M344 264L349 254L353 254L361 250L362 252L366 252L366 250L369 249L379 250L380 248L390 248L398 251L393 258L395 260L390 270L384 279L380 278L379 282L382 284L374 298L367 294L369 288L365 286L364 282L359 280L355 282L356 278L351 276L345 264z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M383 114L388 113L390 108L396 105L397 99L402 93L397 89L399 86L402 87L403 79L401 75L404 70L399 68L394 63L398 58L399 59L402 58L402 56L405 56L402 47L396 47L399 45L403 47L411 43L414 49L412 49L410 54L416 52L420 69L424 68L432 74L428 77L436 81L430 83L429 81L429 83L424 87L424 90L420 90L417 92L418 93L412 95L404 104L404 107L417 113L425 109L427 112L430 113L428 116L429 118L432 119L434 125L429 129L425 129L420 144L412 137L407 126L401 125L391 117L385 117L381 115z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M466 170L468 171L472 163L470 155L475 157L477 155L484 159L487 159L486 161L488 159L491 160L491 164L506 173L497 176L487 174L487 176L482 175L485 176L476 178L468 174L467 172z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#f7fbff" fill-opacity="0.7" fill-rule="evenodd" d="M300 348L329 319L329 313L335 309L334 306L338 309L341 307L343 313L346 315L350 313L353 315L355 319L359 319L365 326L368 324L369 327L377 330L381 327L386 329L403 328L406 325L416 329L404 364L372 337L368 342L355 342L340 337L335 340L335 343L329 348L326 354L320 356L317 353L307 351L304 352L299 349z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M507 89L511 66L507 51L510 52L512 59L516 58L522 61L524 59L521 56L521 54L523 53L522 56L524 57L523 53L527 54L529 50L527 44L529 42L541 36L548 36L548 34L552 34L552 36L559 36L559 28L563 28L564 31L571 31L572 26L576 24L580 26L581 29L584 29L585 32L592 34L596 42L595 46L598 47L600 43L612 47L611 52L614 53L613 58L606 70L604 69L600 77L598 76L596 81L593 81L595 83L593 85L601 89L603 86L608 89L609 88L609 93L612 95L612 98L615 99L614 103L607 103L604 101L594 117L581 110L580 112L575 109L574 111L572 110L571 106L569 108L563 105L566 99L562 96L565 89L561 96L556 95L557 99L559 99L559 102L557 103L560 104L559 106L558 105L558 107L560 108L558 109L562 114L563 113L557 124L554 126L540 118L535 113L533 104L529 106L528 104L523 102L521 99L525 92L523 84L522 87L517 84L516 86L516 92L519 93L518 95L520 93L521 94L518 97L516 94L508 90z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M447 204L449 201L452 201L450 197L450 195L452 195L450 192L451 188L455 190L459 183L462 185L459 192L471 198L466 209L463 208L464 206L462 207L460 200L459 202L458 201L456 207L461 205L460 210L458 211L448 208L449 210L446 208z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#f7fbff" fill-opacity="0.7" fill-rule="evenodd" d="M490 350L497 338L520 350L523 352L522 354L524 356L521 358L522 360L516 367L518 370L522 367L526 371L526 373L532 377L534 376L523 390L507 374L505 378L498 378L493 383L491 383L491 372L496 366L491 360L490 361zM487 323L492 303L494 301L494 297L496 297L498 299L497 300L499 300L499 297L495 293L497 286L498 260L500 259L528 275L522 280L525 283L525 294L521 302L516 306L507 301L513 289L506 296L504 296L505 300L503 299L507 305L512 305L515 307L509 318L507 318L508 324L506 326L505 325L513 330L504 333L503 335L500 333L501 331L495 327L492 328L486 325z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M500 333L502 335L513 330L505 325L506 326L508 324L507 318L509 318L515 307L512 305L507 305L503 299L505 300L504 296L506 296L513 289L507 301L516 306L521 302L525 294L525 283L522 280L528 275L509 263L510 261L508 261L506 259L507 257L505 257L508 252L514 257L516 255L517 261L522 267L531 272L544 270L548 267L553 266L556 257L563 255L565 258L562 261L562 271L567 274L575 267L584 269L586 272L592 272L596 265L601 263L601 258L603 257L605 261L611 263L614 261L616 254L619 255L622 270L621 273L612 273L610 275L615 281L618 281L618 283L620 284L618 287L615 288L614 291L610 291L608 293L609 295L606 296L606 303L597 302L584 327L582 328L584 330L594 333L613 344L616 350L624 357L619 362L608 358L606 360L610 365L613 363L617 364L616 365L619 369L617 373L597 377L587 382L588 386L582 390L570 378L561 379L564 385L562 386L560 383L560 379L544 381L541 391L525 387L534 377L526 373L526 371L522 367L518 370L516 368L522 360L521 358L524 356L522 354L523 352L497 338zM611 372L613 373L617 369L614 365L612 369zM605 375L607 375L609 372L605 374zM590 356L595 358L595 363L603 357L595 350L592 352L592 355z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M506 173L511 171L538 168L539 166L540 169L558 164L565 160L580 186L582 197L580 203L577 205L570 204L574 207L574 209L567 215L570 216L568 219L574 219L582 229L585 230L584 232L587 237L572 239L566 236L563 245L561 242L555 240L556 234L550 231L549 232L539 221L534 231L530 229L529 225L524 223L521 225L527 212L518 208L511 207L514 193L513 181L506 174z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M478 152L482 149L480 148L482 146L484 148L486 146L485 142L489 135L491 135L495 127L492 126L494 124L496 125L500 114L499 113L501 112L499 112L500 110L501 111L502 99L506 90L507 89L516 94L518 97L521 94L520 93L518 95L519 93L516 92L516 86L517 85L522 87L523 84L525 94L521 99L523 102L531 107L523 121L519 120L516 122L518 122L517 127L510 134L509 141L503 151L504 152L502 157L499 162L496 160L495 161L498 163L496 167L491 164L491 160L488 159L486 161L487 159L484 159L477 154z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M408 32L419 21L430 23L432 20L435 21L439 18L444 18L445 15L453 9L455 9L456 12L458 11L458 13L456 13L457 16L459 17L456 24L458 29L464 36L467 31L470 34L469 28L474 19L484 15L486 20L483 21L484 23L480 24L480 28L482 27L483 30L482 33L480 33L483 44L471 63L472 50L470 47L464 45L450 48L442 45L434 48L427 48L421 51L421 56L420 54L417 55L414 49L418 47L416 41L411 39L410 40L410 37L408 38L407 33z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M496 160L499 162L502 157L504 152L503 151L509 142L510 134L517 127L518 122L516 122L519 120L523 121L533 104L532 111L545 128L541 126L537 131L541 133L536 144L531 150L542 155L545 149L542 148L545 142L543 140L547 139L549 141L549 139L549 141L555 145L553 147L555 150L555 154L551 160L558 164L540 169L539 166L538 168L511 171L506 173L496 167L498 163L495 161z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M405 105L404 104L411 95L418 93L417 92L420 90L424 90L429 81L430 83L435 81L438 83L444 82L444 84L448 86L447 87L450 89L452 88L452 94L463 100L464 97L462 95L465 96L465 99L467 100L470 100L475 92L480 95L478 102L471 104L466 108L465 115L460 128L458 127L454 143L443 137L444 135L441 136L435 132L432 132L435 129L438 129L434 120L427 116L430 113L425 110L417 113L404 107z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#f7fbff" fill-opacity="0.7" fill-rule="evenodd" d="M446 220L449 221L448 208L456 210L457 209L458 211L464 213L459 229L460 236L456 233L455 228L446 224L446 222z"></path></g></svg></div><div class="leaflet-pane leaflet-shadow-pane"></div><div class="leaflet-pane leaflet-marker-pane"></div><div class="leaflet-pane leaflet-tooltip-pane"></div><div class="leaflet-pane leaflet-popup-pane"></div><div class="leaflet-proxy leaflet-zoom-animated" style="transform: translate3d(59893.5px, 107907px, 0px) scale(512);"></div></div><div class="leaflet-control-container"><div class="leaflet-top leaflet-left"><div class="leaflet-control-zoom leaflet-bar leaflet-control"><a class="leaflet-control-zoom-in" href="#" title="Zoom in" role="button" aria-label="Zoom in" aria-disabled="false"><span aria-hidden="true">+</span></a><a class="leaflet-control-zoom-out" href="#" title="Zoom out" role="button" aria-label="Zoom out" aria-disabled="false"><span aria-hidden="true">−</span></a></div></div><div class="leaflet-top leaflet-right"></div><div class="leaflet-bottom leaflet-left"></div><div class="leaflet-bottom leaflet-right"><div class="info leaflet-control"><h3><u>Total Water in Gallons</u></h3></div><div class="info legend leaflet-control"><i style="background:#f7fbff"></i> 0–5000000 gal<br><i style="background:#9ecae1"></i> 5000000–10000000 gal<br><i style="background:#4292c6"></i> 10000000–50000000 gal<br><i style="background:#08306b"></i> 50000000+ gal</div><div class="leaflet-control-attribution leaflet-control"><a href="https://leafletjs.com" title="A JavaScript library for interactive maps"><svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8"><path fill="#4C7BE1" d="M0 0h12v4H0z"></path><path fill="#FFD500" d="M0 4h12v3H0z"></path><path fill="#E0BC00" d="M0 7h12v1H0z"></path></svg> Leaflet</a> <span aria-hidden="true">|</span> © OpenStreetMap</div></div></div></div>
        <div class="legend"></div>
        
    <script>
        //HW made by Colby Mask // Edited and annotated by J Arce

        var map = L.map('map').setView([35.93500000, -79.09194828], 15);

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);
        
    
        var EvalDate = "Visit1Date"
        function myStyle(features) {

          

            return {
            "fillColor": getColor(features.properties[EvalDate]),
            "color": "black",// notice that the selected year is the name of a property of the geojson
            "weight": 0.75,
            "opacity": 2.0,
            "fillOpacity": 0.7
            }
        };

        function getColor(Grade) {
            return  Grade == "O" ? "#D22B2B" 
            :Grade == "L" ? "#dee1181" 
            :Grade == "S" ? "#47e01e"
            :Grade == "N" ? "#8f8f8f"
            : "#08306b";
         };

        var cartevals = L.geoJSON(data, {style: myStyle}).addTo(map);

        function moveSlider(value) {
            EvalDate = value; // this changes the value of the selectedYear variable
            map.removeLayer(cartevals);// leaflet method to remove a layer / 
            cartevals = L.geoJSON(data, {style: myStyle});
            map.addLayer(cartevals); // add the new layer
            document.getElementById('theDate').innerHTML = 'Evaluation Date: '+ value  
        }


        function moveSlider(value) { 
            map.removeLayer(geojson);
            document.getElementById('daYear').innerHTML = 'Day ' + bm.features[value].properties.date
            geojson = L.geoJson(bm.features[value],{
                pointToLayer: function(feature,latlng){
                    return L.marker(latlng,{icon: greenIcon})
                }
            })
            map.addLayer(geojson); // add the new layer
            
        }
        moveSlider(0) // start the map with the first feature
        window.onload = function() {
        document.getElementById('dateSlider').value = 0;  
    }; // I added this section to make sure that the slider goes back to the first date after refreshing

    


        moveSlider('Visit1Date')

        // create a leaflet legend
        var legend = L.control({position: 'bottomright'});
        legend.onAdd = function (map) {
            var div = L.DomUtil.create('div', 'info legend'),
                grades = ["O", "L", "S", "N"],
                labels = [];

            for (var i = 0; i < grades.length; i++) {
                div.innerHTML +=
                    '<i style="background:' + getColor(grades[i] + 1) + '"></i> ' +
                    grades[i] + (grades[i + 1] ? '&ndash;' + grades[i + 1] + ' gal'+ '<br>' : '+ gal');
            }
            return div;
        };
        legend.addTo(map);

        var legendTitle = L.control({position: 'bottomright'});
            legendTitle.onAdd = function (map) {
                this._div = L.DomUtil.create('div', 'info');
                this.update();
                return this._div;
            };

            legendTitle.update = function (props) {
                this._div.innerHTML = '<h3><u>Recycling Evaluation Grade</u></h3>';
            };
            legendTitle.addTo(map);
    </script>
   

</body></html>