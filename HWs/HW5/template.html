<html lang="en"><head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leaflet with Slider</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css" integrity="sha512-hoalWLoI8r4UszCkZ5kL8vayOGVae1oxXe/2A4AO6J9+580uKHDO3JdHb7NzwwzK5xr/Fs0W40kiNHxM9vyTtQ==" crossorigin="">
    <script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js" integrity="sha512-BB3hKbKWOc9Ez/TAwyWxNXeoV9c1v6FIeYiBieIWkpLjauysF18NzgR1MBNBXf8/KABdlkX68nAhlwcDFLGPCQ==" crossorigin=""></script>
    
    <script src="./aws.js"></script>
    <style>
        h1 {
        font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
        font-size: 36px;
        position: relative;
        top: 10%;
        text-align: center;
        outline-style: ridge;
        -webkit-text-stroke-width: 1px;
        }
        h2 {
            font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
        }
        h3 {
            font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
        }
        .legend {
            line-height: 18px;
            color: #000;
            background-color: #ffffff;
        }
        .legend i {
            width: 18px;
            height: 18px;
            float: left;
            margin-right: 8px;
            opacity: 0.7; 
        }
        #map { height: 400px;
            width: 900px;
            background-color: lightslategray;
            text-align: center; 
        }
    </style>
</head>
<body class="">
    <h1>Annual Residential Water Use in Austin, Texas</h1>
    <h2 id="theYear">Year: 2016</h2>
    
        <input type="range" name="year" value="2012" min="2012" max="2020" oninput="moveSlider(this.value)">
        <div id="map" class="leaflet-container leaflet-touch leaflet-retina leaflet-fade-anim leaflet-grab leaflet-touch-drag leaflet-touch-zoom" tabindex="0" style="position: relative;"><div class="leaflet-pane leaflet-map-pane" style="transform: translate3d(-75.2253px, -13.6754px, 0px);"><div class="leaflet-pane leaflet-tile-pane"><div class="leaflet-layer " style="z-index: 1; opacity: 1;"><div class="leaflet-tile-container leaflet-zoom-animated" style="z-index: 18; transform: translate3d(215px, 138px, 0px) scale(0.5);"></div><div class="leaflet-tile-container leaflet-zoom-animated" style="z-index: 19; transform: translate3d(143px, 92px, 0px) scale(1);"><img alt="" role="presentation" src="https://tile.openstreetmap.org/7/30/52.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(350px, -93px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://tile.openstreetmap.org/7/30/53.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(350px, 163px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://tile.openstreetmap.org/7/29/52.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(94px, -93px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://tile.openstreetmap.org/7/31/52.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(606px, -93px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://tile.openstreetmap.org/7/29/53.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(94px, 163px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://tile.openstreetmap.org/7/31/53.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(606px, 163px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://tile.openstreetmap.org/7/28/52.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-162px, -93px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://tile.openstreetmap.org/7/28/53.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-162px, 163px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://tile.openstreetmap.org/7/29/51.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(94px, -349px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://tile.openstreetmap.org/7/30/51.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(350px, -349px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://tile.openstreetmap.org/7/28/51.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-162px, -349px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://tile.openstreetmap.org/7/31/51.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(606px, -349px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://tile.openstreetmap.org/7/29/50.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(94px, -605px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://tile.openstreetmap.org/7/30/50.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(350px, -605px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://tile.openstreetmap.org/7/28/50.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-162px, -605px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://tile.openstreetmap.org/7/31/50.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(606px, -605px, 0px); opacity: 1;"></div></div></div><div class="leaflet-pane leaflet-overlay-pane"><svg pointer-events="none" class="leaflet-zoom-animated" width="1080" height="480" viewBox="-15 -26 1080 480" style="transform: translate3d(-15px, -26px, 0px);"><g><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M291 185L294 182L299 183L296 189L297 187L291 186z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M301 174L301 172L304 172L301 175z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M301 179L301 177L304 176L305 179L301 179z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M300 184L302 180L306 182L300 184z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#f7fbff" fill-opacity="0.7" fill-rule="evenodd" d="M310 169L310 164L313 166L313 162L317 165L320 162L318 160L321 155L322 160L328 163L326 166L329 167L329 169L325 169L326 170L323 171L327 173L326 176L324 176L324 178L326 178L325 180L323 180L321 185L321 183L319 183L314 177L316 175L314 170L313 171L312 168L310 169z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M299 171L301 167L303 168L302 171L299 171z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M304 177L306 176L307 179L306 180L304 177z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M295 180L296 181L295 180L299 178L301 180L300 184L295 181z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M289 173L291 174L291 172L293 172L295 169L297 171L296 175L298 178L295 180L296 181L294 181L289 174z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M301 177L303 174L304 177L301 177z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M300 171L302 172L300 174L300 171z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#f7fbff" fill-opacity="0.7" fill-rule="evenodd" d="M305 180L311 180L308 183L306 183L305 180z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M295 169L298 165L300 174L298 172L297 173L296 170z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M303 174L304 172L308 174L307 176L304 176L303 174z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M300 167L302 163L305 162L306 165L304 168L303 169L301 167z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M288 160L291 159L292 157L294 159L293 164L291 165L288 160z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M298 160L302 159L307 162L302 163L298 161z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M296 189L300 183L305 183L306 187L303 191L301 189L296 190z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M296 175L299 172L300 177L299 178L296 175z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#9ecae1" fill-opacity="0.7" fill-rule="evenodd" d="M302 158L305 155L305 157L305 155L307 157L307 162L302 158z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#f7fbff" fill-opacity="0.7" fill-rule="evenodd" d="M306 180L308 176L308 178L310 178L309 179L311 178L314 181L317 180L319 182L314 185L313 182L313 184L308 183L311 180L310 179L306 180z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M295 157L302 157L302 159L299 160L297 160L296 158z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M288 170L290 164L296 168L293 172L291 172L290 169L288 170z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M283 175L286 174L286 176L288 176L290 174L290 176L291 175L290 176L295 181L288 182L284 176z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M275 177L275 175L280 174L279 175L284 177L288 182L278 182L279 183L276 181L278 179L275 178z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M274 182L287 182L286 183L288 185L284 185L283 187L285 189L281 194L278 193L279 190L278 191L276 189L277 186L274 183z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M283 187L286 184L291 191L290 192L283 187z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M295 192L296 189L300 189L306 192L305 198L302 197L302 195L294 194z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M290 189L291 186L296 187L295 192L290 191L290 189z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M286 183L293 181L290 188L286 183z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M291 165L294 162L294 156L298 161L294 163L296 165L297 164L297 166L295 168L293 165L291 165z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M302 172L302 170L306 172L302 172z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#f7fbff" fill-opacity="0.7" fill-rule="evenodd" d="M281 194L285 189L287 189L290 192L295 191L294 196L290 192L286 192L283 195L281 194z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M307 162L307 158L309 158L310 155L315 154L320 156L318 160L320 162L318 165L313 162L313 166L309 163L309 161L307 162z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M299 176L301 173L302 176L299 176z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#f7fbff" fill-opacity="0.7" fill-rule="evenodd" d="M305 194L308 194L310 198L306 198L305 196zM304 191L306 188L306 183L309 185L308 189L307 186L306 187L308 189L306 191L308 192L304 191z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M306 192L308 192L308 189L306 187L307 186L307 188L309 188L306 182L309 184L313 184L313 182L314 185L321 182L321 186L316 191L321 195L319 195L321 197L316 199L309 199L309 195L306 193zM320 197L320 197zM319 197L319 197zM317 195L319 195L317 195z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M307 172L314 170L316 173L314 177L317 180L314 181L311 178L310 179L307 172z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M303 169L308 161L308 163L310 164L307 167L306 171L303 170z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M294 154L300 152L301 155L304 152L303 158L301 156L296 157L294 154z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#4292c6" fill-opacity="0.7" fill-rule="evenodd" d="M305 170L306 171L308 165L309 166L310 164L311 170L312 168L313 169L313 171L305 171z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#08306b" fill-opacity="0.7" fill-rule="evenodd" d="M294 163L296 161L300 161L301 163L303 162L299 168L297 164L294 164z"></path><path class="leaflet-interactive" stroke="black" stroke-opacity="2" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round" fill="#f7fbff" fill-opacity="0.7" fill-rule="evenodd" d="M299 178L299 176L301 180L299 178z"></path></g></svg></div><div class="leaflet-pane leaflet-shadow-pane"></div><div class="leaflet-pane leaflet-marker-pane"></div><div class="leaflet-pane leaflet-tooltip-pane"></div><div class="leaflet-pane leaflet-popup-pane"></div><div class="leaflet-proxy leaflet-zoom-animated" style="transform: translate3d(7712.23px, 13526.7px, 0px) scale(64);"></div></div><div class="leaflet-control-container"><div class="leaflet-top leaflet-left"><div class="leaflet-control-zoom leaflet-bar leaflet-control"><a class="leaflet-control-zoom-in" href="#" title="Zoom in" role="button" aria-label="Zoom in" aria-disabled="false"><span aria-hidden="true">+</span></a><a class="leaflet-control-zoom-out" href="#" title="Zoom out" role="button" aria-label="Zoom out" aria-disabled="false"><span aria-hidden="true">−</span></a></div></div><div class="leaflet-top leaflet-right"></div><div class="leaflet-bottom leaflet-left"></div><div class="leaflet-bottom leaflet-right"><div class="info leaflet-control"><h3><u>Total Water in Gallons</u></h3></div><div class="info legend leaflet-control"><i style="background:#f7fbff"></i> 0–5000000 gal<br><i style="background:#9ecae1"></i> 5000000–10000000 gal<br><i style="background:#4292c6"></i> 10000000–50000000 gal<br><i style="background:#08306b"></i> 50000000+ gal</div><div class="leaflet-control-attribution leaflet-control"><a href="https://leafletjs.com" title="A JavaScript library for interactive maps"><svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8"><path fill="#4C7BE1" d="M0 0h12v4H0z"></path><path fill="#FFD500" d="M0 4h12v3H0z"></path><path fill="#E0BC00" d="M0 7h12v1H0z"></path></svg> Leaflet</a> <span aria-hidden="true">|</span> © OpenStreetMap</div></div></div></div>
        <div class="legend"></div>

    <script>
        //HW made by Colby Mask // Edited and annotated by J Arce

        var map = L.map('map').setView([30.293322656220493, -97.74882492684549], 10);
        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
        attribution: '© OpenStreetMap'
        }).addTo(map);

    
        var selectedYear = '2012'
        function myStyle(feature) {
            // console.log(feature.properties[selectedYear]) //look at the console log and notice that selectedYear is the name of a property of the geojson, so this will give you the data for that feature. 
            // console.log(getColor(feature.properties[selectedYear])) //look at the console log and notice that the selected year will result in a color. 

            return {
            "fillColor": getColor(feature.properties[selectedYear]),
            "color": "black",// notice that the selected year is the name of a property of the geojson
            "weight": 0.75,
            "opacity": 2.0,
            "fillOpacity": 0.7
            }
        };

        function getColor(waterConsumption) {
            return waterConsumption < 5000000 ? "#f7fbff" 
            :waterConsumption < 10000000 ? "#9ecae1" 
            :waterConsumption < 50000000 ? "#4292c6"
            : "#08306b";
        };

        var austinWater = L.geoJSON(aws, {style: myStyle}).addTo(map);

        function moveSlider(value) {
            selectedYear = value; // this changes the value of the selectedYear variable
            map.removeLayer(austinWater);// leaflet method to remove a layer / 
            austinWater = L.geoJSON(aws, {style: myStyle});
            map.addLayer(austinWater); // add the new layer
            document.getElementById('theYear').innerHTML = 'Year: '+ value  
        }
        moveSlider('2012')

        // create a leaflet legend
        var legend = L.control({position: 'bottomright'});
        legend.onAdd = function (map) {
            var div = L.DomUtil.create('div', 'info legend'),
                grades = [0, 5000000, 10000000, 50000000],
                labels = [];

            for (var i = 0; i < grades.length; i++) {
                div.innerHTML +=
                    '<i style="background:' + getColor(grades[i] + 1) + '"></i> ' +
                    grades[i] + (grades[i + 1] ? '&ndash;' + grades[i + 1] + ' gal'+ '<br>' : '+ gal');
            }
            return div;
        };
        legend.addTo(map);

        var legendTitle = L.control({position: 'bottomright'});
            legendTitle.onAdd = function (map) {
                this._div = L.DomUtil.create('div', 'info');
                this.update();
                return this._div;
            };

            legendTitle.update = function (props) {
                this._div.innerHTML = '<h3><u>Total Water in Gallons</u></h3>';
            };
            legendTitle.addTo(map);
    </script>
    <ul>
        <li><a href="https://data.austintexas.gov/Utilities-and-City-Services/Austin-Water-Residential-Water-Consumption/sxk7-7k6z"><h3>Austin Water - Residential Water Consumption (CSV)</h3></a></li>
        <li><a href="https://data.austintexas.gov/dataset/Boundaries-Zip-Code-Tabulation-Areas-2017/nf4y-c7ue"><h3>Boundaries: Zipcode Tabulation Areas, 2017 (Shapefile)</h3></a></li>
    </ul>

</body></html>