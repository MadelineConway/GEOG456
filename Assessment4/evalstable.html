<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart Evals</title>
    <script type="text/javascript"
    src="addresspoints.js">
    </script>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>

<script src="addresspoints.js"></script>
    <style>
    .legend {
            line-height: 18px;
            color: #000;
            background-color: #ffffff;
        }
        .legend i {
            width: 18px;
            height: 18px;
            float: left;
            margin-right: 8px;
            opacity: 0.7; 
        }
        #map { height: 600px; width: 800px ;
            background-color:darkseagreen;
            text-align: center; 
        }
    </style>

    <script type="text/javascript"
    src="addresspoints.js">
    </script>
</head>

<body>
    <div id="container"></div>

    <script>
        var objectsArray = [
            { value: 10, color: "red", class: "a" },
            { value: 20, color: "blue", class: "b" },
            { value: 25, color: "#FFDB58", class: "a" },
            { value: 60, color: "#33CC33", class: "b" },
            { value: 61, color: "#FF4500", class: "a" },
            { value: 62, color: "#FFFF00", class: "b" },
            { value: 63, color: "#FF6347", class: "a" },
            { value: 64, color: "#800080", class: "b" },
            { value: 99, color: "#FFD700", class: "a" },
            { value: 100, color: "#4B0082", class: "b" }
        ];

        // to make my life easier, I transformed the data into an array of values
        var data = objectsArray.map(e => e.value)

        // These are examples of color scales that can be generated with chroma
        // var colorScale = chroma.scale(['blue','red']).colors(3); //   this chroma method just creates an array with three colors in a gradient from blue to red

        // var colorScale = chroma.scale(['blue','red']).domain([10, 100]); // this chroma method creates a function that returns a value within a gradient from blue to red when given a value between 10 to 100
        
        // var colorScale = chroma.scale(['blue','red']).domain([10, 100]).classes(chroma.limits(data, 'e', 4)); // e is for equal, q for quantile, // this chroma method creates a function returning a value in a gradient from blue to red, and creates 4 classes based on equal interval. 

        
        // var breaks = ss.ckmeans(data, 3); // this uses simple statistics to make Natural Breaks. For some reason the chroma version does not work
        // var br = [];  
        //     for (var i = 0; i < breaks.length; i++){br.push(breaks[i][0]); if (i == breaks.length-1){br.push(breaks[i][breaks[i].length-1])} } // this is a hack I wrote to transform the data from the statistical software to the appropriate format
        // var colorScale = chroma.scale(['blue','red']).classes(br); // e is for equal, q for quantile, 

        
        // the color is being assigned using the chroma method that we have created named colorScale

        function addColumn(value){
            var columnDiv = document.createElement("div");
            columnDiv.className = "column";
            columnDiv.style.backgroundColor = colorScale(value); // here we are applying our chroma method
            columnDiv.style.height = value + 'px' 
            columnDiv.innerText = value
            container.append(columnDiv);
        }
    
        objectsArray.forEach(e => addColumn(e.value, e.color));


    </script>

</body></html>